import{u as C,a as Q,o as i,c,b as t,t as n,F as B,r as P,n as f,d as $,e as d,f as I}from"./index-R9P4HaMK.js";const V={class:"page-container"},S={class:"page-content"},T={class:"mb-6"},z={class:"text-xl font-semibold text-gray-800"},D={class:"grid grid-cols-2 gap-4 mb-6"},E={class:"card flex items-center"},H={class:"text-2xl font-bold text-gray-800"},N={class:"card flex items-center"},F={class:"text-2xl font-bold text-gray-800"},L={class:"card mb-6"},A={class:"flex justify-center mb-4"},O={class:"relative w-40 h-40"},W={viewBox:"0 0 100 100",class:"transform -rotate-90"},q=["stroke-dasharray"],R=["stroke-dasharray","stroke-dashoffset"],U=["stroke-dasharray","stroke-dashoffset"],G={class:"absolute inset-0 flex flex-col items-center justify-center"},J={class:"text-3xl font-bold text-gray-800"},K={class:"flex justify-center space-x-6"},X={class:"flex items-center"},Y={class:"text-sm text-gray-600"},Z={class:"flex items-center"},tt={class:"text-sm text-gray-600"},et={class:"flex items-center"},st={class:"text-sm text-gray-600"},ot={key:0,class:"card"},nt={class:"space-y-3"},rt=["onClick"],lt={class:"flex items-center"},at={class:"text-sm font-medium text-gray-800"},it={class:"text-xs text-gray-500"},ct={class:"text-right"},mt={__name:"HomeView",setup(dt){const a=I(),u=C(),h=Q(),g=d(()=>h.userName),o=d(()=>u.statistics),x=d(()=>u.materials.filter(s=>s.status==="warning"||s.status==="expired"||s.status==="out_of_stock"));function l(){return o.value.totalQuantity||1}function v(){const s=o.value.normalQuantity/l(),e=2*Math.PI*40;return`${e*s} ${e}`}function y(){const s=o.value.warningQuantity/l(),e=2*Math.PI*40;return`${e*s} ${e}`}function p(){const s=o.value.expiredQuantity/l(),e=2*Math.PI*40;return`${e*s} ${e}`}function b(){const s=2*Math.PI*40,e=o.value.normalQuantity/l();return-s*e}function k(){const s=2*Math.PI*40,e=o.value.normalQuantity/l(),r=o.value.warningQuantity/l();return-s*(e+r)}function w(){a.push("/inbound")}function _(){a.push("/outbound")}function M(){a.push("/scan")}function m(){a.push("/inventory")}function j(s){a.push(`/material/${s}`)}return(s,e)=>(i(),c("div",V,[t("div",S,[t("div",T,[t("h2",z,"欢迎回来，"+n(g.value),1),e[0]||(e[0]=t("p",{class:"text-sm text-gray-500 mt-1"},"这里是您的标准物质管理概览",-1))]),t("div",D,[t("div",E,[e[2]||(e[2]=t("div",{class:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t("div",null,[t("p",H,n(o.value.totalQuantity),1),e[1]||(e[1]=t("p",{class:"text-xs text-gray-500"},"总库存",-1))])]),t("div",N,[e[4]||(e[4]=t("div",{class:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mr-3"},[t("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",null,[t("p",F,n(o.value.warningQuantity+o.value.expiredQuantity),1),e[3]||(e[3]=t("p",{class:"text-xs text-gray-500"},"预警数",-1))])])]),t("div",L,[e[9]||(e[9]=t("h3",{class:"text-base font-semibold text-gray-800 mb-4"},"库存状态分布",-1)),t("div",A,[t("div",O,[(i(),c("svg",W,[t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10B981","stroke-width":12,"stroke-dasharray":v(),"stroke-dashoffset":"0"},null,8,q),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#F59E0B","stroke-width":12,"stroke-dasharray":y(),"stroke-dashoffset":b()},null,8,R),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#EF4444","stroke-width":12,"stroke-dasharray":p(),"stroke-dashoffset":k()},null,8,U)])),t("div",G,[t("p",J,n(o.value.totalQuantity),1),e[5]||(e[5]=t("p",{class:"text-xs text-gray-500"},"总计",-1))])])]),t("div",K,[t("div",X,[e[6]||(e[6]=t("span",{class:"w-3 h-3 bg-green-500 rounded-full mr-2"},null,-1)),t("span",Y,"正常 "+n(o.value.normalQuantity),1)]),t("div",Z,[e[7]||(e[7]=t("span",{class:"w-3 h-3 bg-yellow-500 rounded-full mr-2"},null,-1)),t("span",tt,"预警 "+n(o.value.warningQuantity),1)]),t("div",et,[e[8]||(e[8]=t("span",{class:"w-3 h-3 bg-red-500 rounded-full mr-2"},null,-1)),t("span",st,"过期 "+n(o.value.expiredQuantity),1)])])]),t("div",{class:"card mb-6"},[e[14]||(e[14]=t("h3",{class:"text-base font-semibold text-gray-800 mb-4"},"快捷操作",-1)),t("div",{class:"grid grid-cols-4 gap-4"},[t("button",{onClick:w,class:"flex flex-col items-center p-3 rounded-xl hover:bg-gray-50 transition-colors"},[...e[10]||(e[10]=[t("div",{class:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-2"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),t("span",{class:"text-xs text-gray-600"},"入库",-1)])]),t("button",{onClick:_,class:"flex flex-col items-center p-3 rounded-xl hover:bg-gray-50 transition-colors"},[...e[11]||(e[11]=[t("div",{class:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-2"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})])],-1),t("span",{class:"text-xs text-gray-600"},"出库",-1)])]),t("button",{onClick:M,class:"flex flex-col items-center p-3 rounded-xl hover:bg-gray-50 transition-colors"},[...e[12]||(e[12]=[t("div",{class:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-2"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])],-1),t("span",{class:"text-xs text-gray-600"},"扫码",-1)])]),t("button",{onClick:m,class:"flex flex-col items-center p-3 rounded-xl hover:bg-gray-50 transition-colors"},[...e[13]||(e[13]=[t("div",{class:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center mb-2"},[t("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),t("span",{class:"text-xs text-gray-600"},"库存",-1)])])])]),x.value.length>0?(i(),c("div",ot,[t("div",{class:"flex items-center justify-between mb-4"},[e[15]||(e[15]=t("h3",{class:"text-base font-semibold text-gray-800"},"需要关注",-1)),t("button",{onClick:m,class:"text-sm text-primary-600"},"查看全部")]),t("div",nt,[(i(!0),c(B,null,P(x.value.slice(0,3),r=>(i(),c("div",{key:r.id,onClick:ut=>j(r.id),class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors"},[t("div",lt,[t("div",{class:f(["w-2 h-2 rounded-full mr-3",r.status==="expired"?"bg-red-500":"bg-yellow-500"])},null,2),t("div",null,[t("p",at,n(r.name),1),t("p",it,n(r.unique_code),1)])]),t("div",ct,[t("p",{class:f(["text-sm font-medium",r.status==="expired"?"text-red-600":"text-yellow-600"])},n(r.status==="expired"?"已过期":"即将过期"),3)])],8,rt))),128))])])):$("",!0)])]))}};export{mt as default};
